parcelRequire=function(e,t,o,a){function s(o,a){function i(e){return s(i.resolve(e))}function l(t){return e[o][1][t]||t}if(!t[o]){if(!e[o]){var d="function"==typeof parcelRequire&&parcelRequire;if(!a&&d)return d(o,!0);if(n)return n(o,!0);if(r&&"string"==typeof o)return r(o);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}i.resolve=l,i.cache={};var u=t[o]=new s.Module(o);e[o][0].call(u.exports,i,u,u.exports,this)}return t[o].exports}var n="function"==typeof parcelRequire&&parcelRequire,r="function"==typeof require&&require;s.isParcelRequire=!0,s.Module=function(e){this.id=e,this.bundle=s,this.exports={}},s.modules=e,s.cache=t,s.parent=n,s.register=function(t,o){e[t]=[function(e,t){t.exports=o},{}]};for(var l=0;l<o.length;l++)s(o[l]);if(o.length){var d=s(o[o.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=d:"function"==typeof define&&define.amd?define(function(){return d}):a&&(this[a]=d)}return s}({XQDW:[function(){},{}],HjX3:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var a in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s={install(e,t){let o=t.defaultTranslations,s=void 0===o?{}:o,n=t.translations;e.prototype.$i18n=a({},s,n)}};o.default=s},{}],f2Um:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.parseTemplateData=void 0;o.parseTemplateData=e=>{let t=e.id,o=e.required;try{let e=document.getElementById(t);if(!e&&void 0!==o&&o)throw`[ORB Error] Template data of #${t} is not in template and is marked as required.`;return e?JSON.parse(e.innerHTML):void 0}catch(e){return console.error(e),!1}}},{}],R35W:[function(e,t){t.exports={ACTIVE:"published",CREATE:"create",INACTIVE:"draft",UPDATE:"update"}},{}],wwsb:[function(e,t,o){"use strict";var a=Math.floor;Object.defineProperty(o,"__esModule",{value:!0}),o.generateUUID=o.generateLongUUID=void 0;const s=e=>{let t=e.uuid,o=void 0===t?"":t,s=e.digits,n=void 0===s?8:s,r=e.seed,l=void 0===r?new Date:r;for(var d=0;d<n;d++)o+=(e=>8===e||13===e||18===e||23===e?"-":14===e?"4":19===e?"8":a(16*Math.random(l)).toString(16))(d);return o};o.generateLongUUID=function(){let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.seed;return s({digits:36,seed:t})};o.generateUUID=function(){let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.seed;return s({seed:t})}},{}],"aA++":[function(e,t){var o;/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */(function(e){"use strict";"function"==typeof o&&o.amd?o(e):"undefined"!=typeof t&&"undefined"!=typeof t.exports?t.exports=e():window.Sortable=e()})(function(){"use strict";var P=Math.min,k=Math.abs;function e(t,o){if(!(t&&t.nodeType&&1===t.nodeType))throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(t);this.el=t,this.options=o=T({},o),t[ge]=this;var a={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Oe(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:ve(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==e.supportPointer&&("PointerEvent"in window||window.navigator&&"msPointerEnabled"in window.navigator),emptyInsertThreshold:5};for(var n in a)n in o||(o[n]=a[n]);for(var r in Be(o),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!o.forceFallback&&Se,o.supportPointer?s(t,"pointerdown",this._onTapStart):(s(t,"mousedown",this._onTapStart),s(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(s(t,"dragover",this),s(t,"dragenter",this)),ue.push(this.el),o.store&&o.store.get&&this.sort(o.store.get(this)||[])}function t(e,t,a,s){if(e){a=a||_e;do{if(">*"===t&&e.parentNode===a||x(e,t)||s&&e===a)return e;if(e===a)break}while(e=o(e))}return null}function o(e){return e.host&&e!==_e&&e.host.nodeType?e.host:e.parentNode}function a(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function s(e,t,o){e.addEventListener(t,o,$)}function n(e,t,o){e.removeEventListener(t,o,$)}function r(e,t,o){if(e&&t)if(e.classList)e.classList[o?"add":"remove"](t);else{var a=(" "+e.className+" ").replace(me," ").replace(" "+t+" "," ");e.className=(a+(o?" "+t:"")).replace(me," ")}}function l(e,t,o){var a=e&&e.style;if(a){if(void 0===o)return _e.defaultView&&_e.defaultView.getComputedStyle?o=_e.defaultView.getComputedStyle(e,""):e.currentStyle&&(o=e.currentStyle),void 0===t?o:o[t];t in a||-1!==t.indexOf("webkit")||(t="-webkit-"+t),a[t]=o+("string"==typeof o?"":"px")}}function d(e){var t="";do{var o=l(e,"transform");o&&"none"!==o&&(t=o+" "+t)}while(e=e.parentNode);return window.DOMMatrix?new DOMMatrix(t):window.WebKitCSSMatrix?new WebKitCSSMatrix(t):window.CSSMatrix?new CSSMatrix(t):void 0}function c(e,t,o){if(e){var a=e.getElementsByTagName(t),s=0,r=a.length;if(o)for(;s<r;s++)o(a[s],s);return a}return[]}function u(e,t,o,a,s,n,r,i,l){e=e||t[ge];var d,c=e.options,u="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||be||xe?(d=_e.createEvent("Event"),d.initEvent(o,!0,!0)):d=new CustomEvent(o,{bubbles:!0,cancelable:!0}),d.to=s||t,d.from=n||t,d.item=a||t,d.clone=M,d.oldIndex=r,d.newIndex=i,d.originalEvent=l,t&&t.dispatchEvent(d),c[u]&&c[u].call(e,d)}function p(e,t,o,a,s,n,r,i){var l,d,c=e[ge],u=c.options.onMove;return!window.CustomEvent||be||xe?(l=_e.createEvent("Event"),l.initEvent("move",!0,!0)):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=o,l.draggedRect=a,l.related=s||t,l.relatedRect=n||I(t),l.willInsertAfter=i,l.originalEvent=r,e.dispatchEvent(l),u&&(d=u.call(c,l,r)),d}function f(e){e.draggable=!1}function m(){Re=!1}function g(e,o,a){for(var s=0,n=0,r=e.children;n<r.length;){if("none"!==r[n].style.display&&r[n]!==L&&r[n]!==N&&t(r[n],a.draggable,e,!1)){if(s===o)return r[n];s++}n++}return null}function h(e){var t=e.lastElementChild;return t===L&&(t=e.children[e.childElementCount-2]),t||null}function _(e,t,o){var a=I(h(o)),s="vertical"===t?e.clientY:e.clientX,n="vertical"===t?e.clientX:e.clientY,r="vertical"===t?a.bottom:a.right,i="vertical"===t?a.left:a.top,l="vertical"===t?a.right:a.bottom;return n>i&&n<l&&s>r}function v(e,t,o,a,s,n,r){var i=I(t),l="vertical"===o?e.clientY:e.clientX,d="vertical"===o?i.height:i.width,c="vertical"===o?i.top:i.left,u="vertical"===o?i.bottom:i.right,p=I(N),f=!1;if(!n)if(r&&se<d*a){if(!pe&&(1===oe?l>c+d*s/2:l<u-d*s/2)&&(pe=!0),!pe){var m="vertical"===o?p.top:p.left,g="vertical"===o?p.bottom:p.right;if(1===oe?l<c+se:l>u-se)return-1*oe}else f=!0;}else if(l>c+d*(1-a)/2&&l<u-d*(1-a)/2)return l>c+d/2?-1:1;return f=f||n,f&&(l<c+d*s/2||l>u-d*s/2)?l>c+d/2?1:-1:0}function y(e,t){var o=b(N,t.draggable),a=b(e,t.draggable);return o<a?1:-1}function C(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,o=t.length,a=0;o--;)a+=t.charCodeAt(o);return a.toString(36)}function b(e){var t=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"!==e.nodeName.toUpperCase()&&e!==M&&t++;return t}function x(e,t){if(e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}function E(e,t){return function(){if(!Ye){var o=arguments,a=this;Ye=ye(function(){1===o.length?e.call(a,o[0]):e.apply(a,o),Ye=void 0},t)}}}function S(){clearTimeout(Ye),Ye=void 0}function T(e,t){if(e&&t)for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e}function R(e){return i&&i.dom?i.dom(e).cloneNode(!0):Ce?Ce(e).clone(!0)[0]:e.cloneNode(!0)}function D(e){Ie.length=0;for(var t,o=e.getElementsByTagName("input"),a=o.length;a--;)t=o[a],t.checked&&Ie.push(t)}function w(e){return ye(e,0)}function A(e){return clearTimeout(e)}function I(e,t,o){if(e.getBoundingClientRect||e===he){var a,s,n,r,i,c,u;if(e===he?(s=0,n=0,r=window.innerHeight,i=window.innerWidth,c=window.innerHeight,u=window.innerWidth):(a=e.getBoundingClientRect(),s=a.top,n=a.left,r=a.bottom,i=a.right,c=a.height,u=a.width),o&&e!==he){if(t=t||e.parentNode,!be)do if(t&&t.getBoundingClientRect&&"none"!==l(t,"transform")){var p=t.getBoundingClientRect();s-=p.top+ve(l(t,"border-top-width")),n-=p.left+ve(l(t,"border-left-width")),r=s+a.height,i=n+a.width;break}while(t=t.parentNode);var f=d(e),m=f&&f.a,g=f&&f.d;f&&(s/=g,n/=m,u/=m,c/=g,r=s+c,i=n+u)}return{top:s,left:n,bottom:r,right:i,width:u,height:c}}}function O(e,t){for(var o=Ue(o,!0),a=I(e)[t];o;){var s,n=I(o)[t];if(s="top"===t||"left"===t?a>=n:a<=n,!s)return!0;if(o===he)break;o=Ue(o,!1)}return!1}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var N,U,L,M,B,q,F,j,X,H,Y,V,W,z,Z,Q,G,K,J,ee,te,oe,ae,se,ne,re,ie=[],le=!1,de=!1,ce=!1,ue=[],pe=!1,fe=!1,me=/\s+/g,ge="Sortable"+new Date().getTime(),he=window,_e=he.document,ve=he.parseInt,ye=he.setTimeout,Ce=he.jQuery||he.Zepto,i=he.Polymer,$={capture:!1,passive:!1},be=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),xe=!!navigator.userAgent.match(/Edge/i),Ee=xe||be?"cssFloat":"float",Se="draggable"in _e.createElement("div"),Te=function(){if(be)return!1;var e=_e.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),Re=!1,De=!1,we=k,Ae=P,Ie=[],Oe=function(e,t){var o=l(e),a=ve(o.width),s=g(e,0,t),n=g(e,1,t),r=s&&l(s),i=n&&l(n),d=r&&ve(r.marginLeft)+ve(r.marginRight)+I(s).width,c=i&&ve(i.marginLeft)+ve(i.marginRight)+I(n).width;return"flex"===o.display?"column"===o.flexDirection||"column-reverse"===o.flexDirection?"vertical":"horizontal":s&&("block"===r.display||"flex"===r.display||"table"===r.display||"grid"===r.display||d>=a&&"none"===o[Ee]||n&&"none"===o[Ee]&&d+c>a)?"vertical":"horizontal"},Pe=function(e,t){for(var o=0;o<ue.length;o++)if(!ue[o].children.length){var a=I(ue[o]),s=ue[o][ge].options.emptyInsertThreshold,n=e>=a.left-s&&e<=a.right+s,r=t>=a.top-s&&t<=a.bottom+s;if(n&&r)return ue[o]}},ke=function(e,t,o,a){var s=I(o),n="vertical"===a?s.left:s.top,r="vertical"===a?s.right:s.bottom,i="vertical"===a?e:t;return n<i&&i<r},Ne=function(e,t,o){var a=e===N&&re||I(e),s=t===N&&re||I(t),n="vertical"===o?a.left:a.top,r="vertical"===o?a.right:a.bottom,i="vertical"===o?a.width:a.height,l="vertical"===o?s.left:s.top,d="vertical"===o?s.right:s.bottom,c="vertical"===o?s.width:s.height;return n===l||r===d||n+i/2===l+c/2},Ue=function(e,t){if(!e||!e.getBoundingClientRect)return he;var o=e,a=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var s=l(o);if(o.clientWidth<o.scrollWidth&&("auto"==s.overflowX||"scroll"==s.overflowX)||o.clientHeight<o.scrollHeight&&("auto"==s.overflowY||"scroll"==s.overflowY)){if(!o||!o.getBoundingClientRect||o===_e.body)return he;if(a||t)return o;a=!0}}while(o=o.parentNode);return he},Le=E(function(t,o,a,s){if(o.scroll){var n=a?a[ge]:window,r=o.scrollSensitivity,d=o.scrollSpeed,c=t.clientX,u=t.clientY,p=window.innerWidth,f=window.innerHeight,m=!1;X!==a&&(Me(),j=o.scroll,H=o.scrollFn,!0===j&&(j=Ue(a,!0),X=j));var g=0,h=j;do{var _,v,y,C,b,x,E,S,T,R=h,D=I(R),w=D.top,A=D.bottom,O=D.left,P=D.right,k=D.width,N=D.height;if(R===he?(_=_e.documentElement.scrollWidth,v=_e.documentElement.scrollHeight,y=l(_e.documentElement),x=k<_&&("auto"===y.overflowX||"scroll"===y.overflowX||"visible"===y.overflowX),E=N<v&&("auto"===y.overflowY||"scroll"===y.overflowY||"visible"===y.overflowY),S=_e.documentElement.scrollLeft,T=_e.documentElement.scrollTop):(_=R.scrollWidth,v=R.scrollHeight,y=l(R),x=k<_&&("auto"===y.overflowX||"scroll"===y.overflowX),E=N<v&&("auto"===y.overflowY||"scroll"===y.overflowY),S=R.scrollLeft,T=R.scrollTop),C=x&&(we(P-c)<=r&&S+k<_)-(we(O-c)<=r&&!!S),b=E&&(we(A-u)<=r&&T+N<v)-(we(w-u)<=r&&!!T),!ie[g])for(var U=0;U<=g;U++)ie[U]||(ie[U]={});(ie[g].vx!=C||ie[g].vy!=b||ie[g].el!==R)&&(ie[g].el=R,ie[g].vx=C,ie[g].vy=b,clearInterval(ie[g].pid),R&&(0!=C||0!=b)&&(m=!0,ie[g].pid=setInterval(function(){s&&0===this.layer&&e.active._emulateDragOver(!0);var o=ie[this.layer].vy?ie[this.layer].vy*d:0,a=ie[this.layer].vx?ie[this.layer].vx*d:0;"function"==typeof H&&"continue"!==H.call(n,a,o,t,J,ie[this.layer].el)||(ie[this.layer].el===he?he.scrollTo(he.pageXOffset+a,he.pageYOffset+o):(ie[this.layer].el.scrollTop+=o,ie[this.layer].el.scrollLeft+=a))}.bind({layer:g}),24))),g++}while(o.bubbleScroll&&h!==he&&(h=Ue(h,!1)));le=m}},30),Me=function(){ie.forEach(function(e){clearInterval(e.pid)}),ie=[]},Be=function(e){function t(e,o){return function(a,s,n,r){var i=a.options.group.name&&s.options.group.name&&a.options.group.name===s.options.group.name;if(null==e&&(o||i))return!0;if(null==e||!1===e)return!1;if(o&&"clone"===e)return e;if("function"==typeof e)return t(e(a,s,n,r),o)(a,s,n,r);var l=(o?a:s).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&-1<e.indexOf(l)}}var o={},a=e.group;a&&"object"==typeof a||(a={name:a}),o.name=a.name,o.checkPull=t(a.pull,!0),o.checkPut=t(a.put),o.revertClone=a.revertClone,e.group=o},$e=function(e){N&&N.parentNode&&(!N.parentNode[ge]||N.parentNode[ge]._computeIsAligned(e))},qe=function(e,t){for(var o=t;!o[ge];)o=o.parentNode;return e===o},Fe=function(e,t,o){for(var a=e.parentNode;a&&!a[ge];)a=a.parentNode;a&&a[ge][o](T(t,{artificialBubble:!0}))},je=function(){!Te&&L&&l(L,"display","none")},Xe=function(){!Te&&L&&l(L,"display","")};_e.addEventListener("click",function(e){if(ce)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ce=!1,!1},!0);var He=function(e){if(N){var t=Pe(e.clientX,e.clientY);t&&t[ge]._onDragOver({clientX:e.clientX,clientY:e.clientY,target:t,rootEl:t})}};_e.addEventListener("dragover",He),_e.addEventListener("mousemove",He),e.prototype={constructor:e,_computeIsAligned:function(e){var o;if((L&&!Te?(je(),o=_e.elementFromPoint(e.clientX,e.clientY),Xe()):o=e.target,o=t(o,this.options.draggable,this.el,!1),!De)&&N&&N.parentNode===this.el){for(var a=this.el.children,s=0;s<a.length;s++)t(a[s],this.options.draggable,this.el,!1)&&a[s]!==o&&(a[s].sortableMouseAligned=ke(e.clientX,e.clientY,a[s],this._getDirection(e,null),this.options));t(o,this.options.draggable,this.el,!0)||(te=null),De=!0,ye(function(){De=!1},30)}},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,N):this.options.direction},_onTapStart:function(e){if(e.cancelable){var o,a=this,s=this.el,n=this.options,r=n.preventOnFilter,i=e.type,l=e.touches&&e.touches[0],d=(l||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||d,p=n.filter;if((D(s),!be||e.artificialBubble||qe(s,d))&&!N&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||n.disabled)&&!c.isContentEditable){if(d=t(d,n.draggable,s,!1),!d)return void(be&&Fe(s,e,"_onTapStart"));if(F!==d){if(o=b(d,n.draggable),"function"==typeof p){if(p.call(this,e,d,this))return u(a,c,"filter",d,s,s,o),void(r&&e.cancelable&&e.preventDefault());}else if(p&&(p=p.split(",").some(function(e){if(e=t(c,e.trim(),s,!1),e)return u(a,e,"filter",d,s,s,o),!0}),p))return void(r&&e.cancelable&&e.preventDefault());n.handle&&!t(c,n.handle,s,!1)||this._prepareDragStart(e,l,d,o)}}}},_handleAutoScroll:function(e,t){if(N&&this.options.scroll){var o=e.clientX,a=e.clientY,s=_e.elementFromPoint(o,a),n=this;if(t||xe||be){Le(e,n.options,s,t);var r=Ue(s,!0);le&&(!Z||o!==Q||a!==G)&&(Z&&clearInterval(Z),Z=setInterval(function(){if(N){var s=Ue(_e.elementFromPoint(o,a),!0);s!==r&&(r=s,Me(),Le(e,n.options,r,t))}},10),Q=o,G=a)}else{if(!n.options.bubbleScroll||Ue(s,!0)===window)return void Me();Le(e,n.options,Ue(s,!1),!1)}}},_prepareDragStart:function(e,t,o,a){var n,i=this,l=i.el,d=i.options,p=l.ownerDocument;o&&!N&&o.parentNode===l&&(B=l,N=o,U=N.parentNode,q=N.nextSibling,F=o,W=d.group,Y=a,K={target:N,clientX:(t||e).clientX,clientY:(t||e).clientY},this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,N.style["will-change"]="all",N.style.transition="",N.style.transform="",n=function(){i._disableDelayedDrag(),N.draggable=i.nativeDraggable,i._triggerDragStart(e,t),u(i,B,"choose",N,B,B,Y),r(N,d.chosenClass,!0)},d.ignore.split(",").forEach(function(e){c(N,e.trim(),f)}),d.supportPointer?(s(p,"pointerup",i._onDrop),s(p,"pointercancel",i._onDrop)):(s(p,"mouseup",i._onDrop),s(p,"touchend",i._onDrop),s(p,"touchcancel",i._onDrop)),d.delay?(s(p,"mouseup",i._disableDelayedDrag),s(p,"touchend",i._disableDelayedDrag),s(p,"touchcancel",i._disableDelayedDrag),s(p,"mousemove",i._delayedDragTouchMoveHandler),s(p,"touchmove",i._delayedDragTouchMoveHandler),d.supportPointer&&s(p,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=ye(n,d.delay)):n())},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Ae(we(e.clientX-this._lastX),we(e.clientY-this._lastY))>=this.options.touchStartThreshold&&this._disableDelayedDrag()},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),n(e,"mouseup",this._disableDelayedDrag),n(e,"touchend",this._disableDelayedDrag),n(e,"touchcancel",this._disableDelayedDrag),n(e,"mousemove",this._delayedDragTouchMoveHandler),n(e,"touchmove",this._delayedDragTouchMoveHandler),n(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||("touch"==e.pointerType?e:null),!this.nativeDraggable||t?this.options.supportPointer?s(_e,"pointermove",this._onTouchMove):t?s(_e,"touchmove",this._onTouchMove):s(_e,"mousemove",this._onTouchMove):(s(N,"dragend",this),s(B,"dragstart",this._onDragStart));try{_e.selection?w(function(){_e.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(t){if(de=!1,B&&N){this.nativeDraggable&&(s(_e,"dragover",this._handleAutoScroll),s(_e,"dragover",$e));var o=this.options;t||r(N,o.dragClass,!1),r(N,o.ghostClass,!0),l(N,"transform",""),e.active=this,t&&this._appendGhost(),u(this,B,"start",N,B,B,Y)}else this._nulling()},_emulateDragOver:function(e){if(J){if(this._lastX===J.clientX&&this._lastY===J.clientY&&!e)return;this._lastX=J.clientX,this._lastY=J.clientY,je();for(var t=_e.elementFromPoint(J.clientX,J.clientY),o=t;t&&t.shadowRoot;)t=t.shadowRoot.elementFromPoint(J.clientX,J.clientY),o=t;if(o)do{if(o[ge]){var a;if(a=o[ge]._onDragOver({clientX:J.clientX,clientY:J.clientY,target:t,rootEl:o}),a&&!this.options.dragoverBubble)break}t=o}while(o=o.parentNode);N.parentNode[ge]._computeIsAligned(J),Xe()}},_onTouchMove:function(t){if(K){if(!t.cancelable)return;var o=this.options,a=o.fallbackTolerance,s=o.fallbackOffset,n=t.touches?t.touches[0]:t,r=L&&d(L),i=L&&r&&r.a,c=L&&r&&r.d,u=(n.clientX-K.clientX+s.x)/(i?i:1),p=(n.clientY-K.clientY+s.y)/(c?c:1),f=t.touches?"translate3d("+u+"px,"+p+"px,0)":"translate("+u+"px,"+p+"px)";if(!e.active&&!de){if(a&&Ae(we(n.clientX-this._lastX),we(n.clientY-this._lastY))<a)return;this._onDragStart(t,!0)}this._handleAutoScroll(n,!0),ee=!0,J=n,l(L,"webkitTransform",f),l(L,"mozTransform",f),l(L,"msTransform",f),l(L,"transform",f),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!L){var e=I(N,this.options.fallbackOnBody?_e.body:B,!0),t=l(N),o=this.options;L=N.cloneNode(!0),r(L,o.ghostClass,!1),r(L,o.fallbackClass,!0),r(L,o.dragClass,!0),l(L,"box-sizing","border-box"),l(L,"margin",0),l(L,"top",e.top),l(L,"left",e.left),l(L,"width",e.width),l(L,"height",e.height),l(L,"opacity","0.8"),l(L,"position","fixed"),l(L,"zIndex","100000"),l(L,"pointerEvents","none"),o.fallbackOnBody&&_e.body.appendChild(L)||B.appendChild(L)}},_onDragStart:function(e,t){var o=this,a=e.dataTransfer,i=o.options;M=R(N),M.draggable=!1,M.style["will-change"]="",this._hideClone(),r(M,o.options.chosenClass,!1),o._cloneId=w(function(){o.options.removeCloneOnHide||B.insertBefore(M,N),u(o,B,"clone",N)}),t||r(N,i.dragClass,!0),t?(ce=!0,o._loopId=setInterval(o._emulateDragOver,50)):(n(_e,"mouseup",o._onDrop),n(_e,"touchend",o._onDrop),n(_e,"touchcancel",o._onDrop),n(_e,"pointercancel",o._onDrop),a&&(a.effectAllowed="move",i.setData&&i.setData.call(o,a,N)),s(_e,"drop",o),l(N,"transform","translateZ(0)")),de=!0,o._dragStartId=w(o._dragStarted.bind(o,t)),s(_e,"selectstart",o)},_onDragOver:function(o){function a(){return C&&(r(N,z?z.options.ghostClass:C.options.ghostClass,!1),r(N,f.ghostClass,!0)),z!==S&&S!==e.active?z=S:S===e.active&&(z=null),(c!==N||N.animated)&&(c!==d||c.animated)||(te=null),f.dragoverBubble||o.rootEl||c===_e||(S._handleAutoScroll(o),N.parentNode[ge]._computeIsAligned(o)),!f.dragoverBubble&&o.stopPropagation&&o.stopPropagation(),!0}function s(){u(S,B,"change",c,d,B,Y,b(N,f.draggable),o)}var n,i,l,d=this.el,c=o.target,f=this.options,g=f.group,C=e.active,x=W===g,E=f.sort,S=this;if(!Re&&(!be||o.rootEl||o.artificialBubble||qe(d,c))){if(void 0!==o.preventDefault&&o.cancelable&&o.preventDefault(),ee=!0,c=t(c,f.draggable,d,!0),!!t(o.target,null,N,!0)||c.animated)return a();if(c!==N&&(ce=!1),C&&!f.disabled&&(x?E||(l=!B.contains(N)):z===this||(this.lastPutMode=W.checkPull(this,C,N,o))&&g.checkPut(this,C,N,o))){var T=this._getDirection(o,c);if(n=I(N),l)return this._hideClone(),U=B,q?B.insertBefore(N,q):B.appendChild(N),a();if(0===d.children.length||d.children[0]===L||_(o,T,d)&&!N.animated){if(0!==d.children.length&&d.children[0]!==L&&d===o.target&&(c=h(d)),c&&(i=I(c)),x?C._hideClone():C._showClone(this),!1!==p(B,d,N,n,c,i,o,!!c))return d.appendChild(N),U=d,re=null,s(),this._animate(n,N),c&&this._animate(i,c),a();}else if(c&&c!==N&&void 0!==c.parentNode[ge]&&c!==d){var R,D=0,w=c.sortableMouseAligned,A=N.parentNode!==d,P=O(c,"vertical"===T?"top":"left");if(te!==c&&(ae=null,R=I(c)["vertical"===T?"top":"left"],pe=!1),Ne(N,c,T)&&w||A||P||f.invertSwap||"insert"===ae||"swap"===ae?("swap"!==ae&&(fe=f.invertSwap||A||le||P),D=v(o,c,T,f.swapThreshold,null==f.invertedSwapThreshold?f.swapThreshold:f.invertedSwapThreshold,fe,te===c),ae="swap"):(D=y(c,f),ae="insert"),0===D)return a();re=null,te=c,oe=D,i=I(c);var k=c.nextElementSibling,M=!1;M=1===D;var $=p(B,d,N,n,c,i,o,M);if(!1!==$)return(1===$||-1===$)&&(M=1===$),Re=!0,ye(m,30),x?C._hideClone():C._showClone(this),M&&!k?d.appendChild(N):c.parentNode.insertBefore(N,M?k:c),U=N.parentNode,void 0===R||fe||(se=we(R-I(c)["vertical"===T?"top":"left"])),s(),A||this._animate(i,c),this._animate(n,N),a()}if(d.contains(N))return a()}return be&&!o.rootEl&&Fe(d,o,"_onDragOver"),!1}},_animate:function(e,t){var o=this.options.animation;if(o){var a=I(t);if(t===N&&(re=a),1===e.nodeType&&(e=I(e)),e.left+e.width/2!==a.left+a.width/2||e.top+e.height/2!==a.top+a.height/2){var s=d(this.el),n=s&&s.a,r=s&&s.d;l(t,"transition","none"),l(t,"transform","translate3d("+(e.left-a.left)/(n?n:1)+"px,"+(e.top-a.top)/(r?r:1)+"px,0)"),ne=t.offsetWidth,l(t,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),l(t,"transform","translate3d(0,0,0)")}"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=ye(function(){l(t,"transition",""),l(t,"transform",""),t.animated=!1},o)}},_offUpEvents:function(){var e=this.el.ownerDocument;n(_e,"touchmove",this._onTouchMove),n(_e,"pointermove",this._onTouchMove),n(e,"mouseup",this._onDrop),n(e,"touchend",this._onDrop),n(e,"pointerup",this._onDrop),n(e,"touchcancel",this._onDrop),n(e,"pointercancel",this._onDrop),n(_e,"selectstart",this)},_onDrop:function(t){var o=this.el,a=this.options;de=!1,le=!1,fe=!1,pe=!1,clearInterval(this._loopId),clearInterval(Z),Me(),S(),clearTimeout(this._dragStartTimer),A(this._cloneId),A(this._dragStartId),n(_e,"mousemove",this._onTouchMove),this.nativeDraggable&&(n(_e,"drop",this),n(o,"dragstart",this._onDragStart),n(_e,"dragover",this._handleAutoScroll),n(_e,"dragover",$e)),this._offUpEvents(),t&&(ee&&(t.cancelable&&t.preventDefault(),!a.dropBubble&&t.stopPropagation()),L&&L.parentNode&&L.parentNode.removeChild(L),(B===U||z&&"clone"!==z.lastPutMode)&&M&&M.parentNode&&M.parentNode.removeChild(M),N&&(this.nativeDraggable&&n(N,"dragend",this),f(N),N.style["will-change"]="",r(N,z?z.options.ghostClass:this.options.ghostClass,!1),r(N,this.options.chosenClass,!1),u(this,B,"unchoose",N,U,B,Y,null,t),B===U?N.nextSibling!==q&&(V=b(N,a.draggable),0<=V&&(u(this,B,"update",N,U,B,Y,V,t),u(this,B,"sort",N,U,B,Y,V,t))):(V=b(N,a.draggable),0<=V&&(u(null,U,"add",N,U,B,Y,V,t),u(this,B,"remove",N,U,B,Y,V,t),u(null,U,"sort",N,U,B,Y,V,t),u(this,B,"sort",N,U,B,Y,V,t)),z&&z.save()),e.active&&((null==V||-1===V)&&(V=Y),u(this,B,"end",N,U,B,Y,V,t),this.save()))),this._nulling()},_nulling:function(){B=N=U=L=q=M=F=j=X=ie.length=Z=Q=G=K=J=ee=V=Y=te=oe=ne=re=z=W=e.active=null,Ie.forEach(function(e){e.checked=!0}),Ie.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":N&&(this._onDragOver(e),a(e));break;case"selectstart":e.preventDefault();}},toArray:function(){for(var e,o=[],a=this.el.children,s=0,r=a.length,n=this.options;s<r;s++)e=a[s],t(e,n.draggable,this.el,!1)&&o.push(e.getAttribute(n.dataIdAttr)||C(e));return o},sort:function(e){var o={},a=this.el;this.toArray().forEach(function(e,s){var n=a.children[s];t(n,this.options.draggable,a,!1)&&(o[e]=n)},this),e.forEach(function(e){o[e]&&(a.removeChild(o[e]),a.appendChild(o[e]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return t(e,o||this.options.draggable,this.el,!1)},option:function(e,t){var o=this.options;return void 0===t?o[e]:void(o[e]=t,"group"===e&&Be(o))},destroy:function(){var e=this.el;e[ge]=null,n(e,"mousedown",this._onTapStart),n(e,"touchstart",this._onTapStart),n(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(n(e,"dragover",this),n(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),ue.splice(ue.indexOf(this.el),1),this.el=e=null},_hideClone:function(){M.cloneHidden||(l(M,"display","none"),M.cloneHidden=!0,M.parentNode&&this.options.removeCloneOnHide&&M.parentNode.removeChild(M))},_showClone:function(e){return"clone"===e.lastPutMode?void(M.cloneHidden&&(B.contains(N)&&!this.options.group.revertClone?B.insertBefore(M,N):q?B.insertBefore(M,q):B.appendChild(M),this.options.group.revertClone&&this._animate(N,M),l(M,"display",""),M.cloneHidden=!1)):void this._hideClone()}};var Ye;return s(_e,"touchmove",function(t){(e.active||de)&&t.cancelable&&t.preventDefault()}),e.utils={on:s,off:n,css:l,find:c,is:function(e,o){return!!t(e,o,e,!1)},extend:T,throttle:E,closest:t,toggleClass:r,clone:R,index:b,nextTick:w,cancelNextTick:A,detectDirection:Oe,getChild:g},e.create=function(t,o){return new e(t,o)},e.version="1.8.1",e})},{}],"T6w+":[function(e,t,o){function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var s;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var a in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};(function(){"use strict";function n(e,t,o){return null==o?e:(e=null==e?{}:e,e[t]=o,e)}function i(e){function t(e){e.parentElement.removeChild(e)}function o(e,t,o){var a=0===o?e.children[0]:e.children[o-1].nextSibling;e.insertBefore(t,a)}function s(e,t){return e.map(function(e){return e.elm}).indexOf(t)}function i(e,t,o){if(!e)return[];var s=e.map(function(e){return e.elm}),n=[].concat(a(t)).map(function(e){return s.indexOf(e)});return o?n.filter(function(e){return-1!==e}):n}function l(e,t){var o=this;this.$nextTick(function(){return o.$emit(e.toLowerCase(),t)})}function d(e){var t=this;return function(o){null!==t.realList&&t["onDrag"+e](o),l.call(t,e,o)}}var c=["Start","Add","Remove","Update","End"],u=["Choose","Sort","Filter","Clone"],p=["Move"].concat(c,u).map(function(e){return"on"+e}),f=null,m={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(e){return e}},element:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}};return{name:"draggable",props:m,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1,init:!1}},render:function(e){var t=this.$slots.default;if(t&&1===t.length){var o=t[0];o.componentOptions&&"transition-group"===o.componentOptions.tag&&(this.transitionMode=!0)}var s=0,r=t,i=this.$slots,l=i.header,d=i.footer;l&&(s=l.length,r=r?[].concat(a(l),a(r)):[].concat(a(l))),d&&(r=r?[].concat(a(r),a(d)):[].concat(a(d))),this.headerOffset=s;var c=null,u=function(e,t){c=n(c,e,t)};if(u("attrs",this.$attrs),this.componentData){var p=this.componentData,f=p.on,m=p.props;u("on",f),u("props",m)}return e(this.element,c,r)},mounted:function(){var t=this;if(this.noneFunctionalComponentMode=this.element.toLowerCase()!==this.$el.nodeName.toLowerCase(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter element value or remove transition-group. Current element value: "+this.element);var o={};c.forEach(function(e){o["on"+e]=d.call(t,e)}),u.forEach(function(e){o["on"+e]=l.bind(t,e)});var a=r({},this.options,o,{onMove:function(e,o){return t.onDragMove(e,o)}});"draggable"in a||(a.draggable=">*"),this._sortable=new e(this.rootContainer,a),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},isCloning:function(){return!!this.options&&!!this.options.group&&"clone"===this.options.group.pull},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(e){for(var t in e)-1==p.indexOf(t)&&this._sortable.option(t,e[t])},deep:!0},realList:function(){this.computeIndexes()}},methods:{getChildrenNodes:function(){if(this.init||(this.noneFunctionalComponentMode=this.noneFunctionalComponentMode&&1==this.$children.length,this.init=!0),this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var e=this.$slots.default;return this.transitionMode?e[0].child.$slots.default:e},computeIndexes:function(){var e=this;this.$nextTick(function(){e.visibleIndexes=i(e.getChildrenNodes(),e.rootContainer.children,e.transitionMode)})},getUnderlyingVm:function(e){var t=s(this.getChildrenNodes()||[],e);if(-1===t)return null;var o=this.realList[t];return{index:t,element:o}},getUnderlyingPotencialDraggableComponent:function(e){var t=e.__vue__;return t&&t.$options&&"transition-group"===t.$options._componentTag?t.$parent:t},emitChanges:function(e){var t=this;this.$nextTick(function(){t.$emit("change",e)})},alterList:function(e){if(!!this.list)e(this.list);else{var t=[].concat(a(this.value));e(t),this.$emit("input",t)}},spliceList:function e(){var t=arguments,e=function(e){return e.splice.apply(e,t)};this.alterList(e)},updatePosition:function e(t,o){var e=function(e){return e.splice(o,0,e.splice(t,1)[0])};this.alterList(e)},getRelatedContextFromMoveEvent:function(e){var t=e.to,o=e.related,a=this.getUnderlyingPotencialDraggableComponent(t);if(!a)return{component:a};var s=a.realList,n={list:s,component:a};if(t!==o&&s&&a.getUnderlyingVm){var i=a.getUnderlyingVm(o);if(i)return r(i,n)}return n},getVmIndex:function(e){var t=this.visibleIndexes,o=t.length;return e>o-1?o:t[e]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(e){if(this.noTransitionOnDrag&&this.transitionMode){var t=this.getChildrenNodes();t[e].data=null;var o=this.getComponent();o.children=[],o.kept=void 0}},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),f=e.item},onDragAdd:function(e){this.updateEvenemt(e);var o=e.item._underlying_vm_;if(void 0!==o){t(e.item);var a=this.getVmIndex(e.newIndex);this.spliceList(a,0,o),this.computeIndexes();this.emitChanges({added:{element:o,newIndex:a}})}},onDragRemove:function(e){if(this.updateEvenemt(e),o(this.rootContainer,e.item,e.oldIndex),this.isCloning)return void t(e.clone);var a=this.context.index;this.spliceList(a,1);var s={element:this.context.element,oldIndex:a};this.resetTransitionData(a),this.emitChanges({removed:s})},onDragUpdate:function(e){this.updateEvenemt(e),t(e.item),o(e.from,e.item,e.oldIndex);var a=this.context.index,s=this.getVmIndex(e.newIndex);this.updatePosition(a,s);var n={element:this.context.element,oldIndex:a,newIndex:s};this.emitChanges({moved:n})},updateEvenemt:function(e){this.updateProperty(e,"newIndex"),this.updateProperty(e,"oldIndex")},updateProperty:function(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},computeFutureIndex:function(e,t){if(!e.element)return 0;var o=[].concat(a(t.to.children)).filter(function(e){return"none"!==e.style.display}),s=o.indexOf(t.related),n=e.component.getVmIndex(s),r=-1!=o.indexOf(f);return r||!t.willInsertAfter?n:n+1},onDragMove:function(e,t){var o=this.move;if(!o||!this.realList)return!0;var a=this.getRelatedContextFromMoveEvent(e),s=this.context,n=this.computeFutureIndex(a,e);return r(s,{futureIndex:n}),r(e,{relatedContext:a,draggedContext:s}),o(e,t)},onDragEnd:function(){this.computeIndexes(),f=null}}}}if(Array.from||(Array.from=function(e){return[].slice.call(e)}),"object"==typeof o){var l=e("sortablejs");t.exports=i(l)}else if("function"==typeof s&&s.amd)s(["sortablejs"],function(e){return i(e)});else if(window&&window.Vue&&window.Sortable){var d=i(window.Sortable);Vue.component("draggable",d)}})()},{sortablejs:"aA++"}],qZDC:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var a in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s={name:"CourseActivity",props:{instance:{type:Object,default:()=>({})}},data(){return{activity:a({},this.instance),isEdittable:!1}},methods:{relayUpdate(){this.$emit("update",{resource:this.activity})},revertEditState(e){let t=e.state,o=void 0===t?!this.isEdittable:t;this.activity=this.instance,this.setEditState({state:o})},setEditState(e){let t=e.state,o=void 0===t?!this.isEdittable:t;this.isEdittable=o,o||this.relayUpdate()}}};o.default=s;var n=o.default||t.exports;"function"==typeof n&&(n=n.options),Object.assign(n,function(){return{render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"course-activity panel panel-info iso:yEnd0 edge:xyEq"},[e.isEdittable?e._e():o("header",{staticClass:"course-activity-hdr panel-heading flex:h--p:start--s:middle pad:xyEq25 rhy:xStart25"},[e._t("preheading"),e._v(" "),o("h5",{staticClass:"iso:yEnd0"},[e._v(e._s(e.activity.title))]),e._v(" "),e._t("postheading")],2),e._v(" "),e.isEdittable?o("div",{staticClass:"panel-body"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"act_title_"+e.activity.uuid}},[e._v("\n                "+e._s(e.$i18n.ACTIVITY_TITLE_LABEL)+"\n            ")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.activity.title,expression:"activity.title"}],staticClass:"form-control",attrs:{type:"text",id:"act_title_"+e.activity.uuid},domProps:{value:e.activity.title},on:{input:function(t){t.target.composing||e.$set(e.activity,"title",t.target.value)}}})]),e._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"act_desc_"+e.activity.uuid}},[e._v("\n                "+e._s(e.$i18n.ACTIVITY_DESC_LABEL)+"\n            ")]),e._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.activity.description,expression:"activity.description"}],staticClass:"form-control",attrs:{rows:"10",id:"act_desc_"+e.activity.uuid},domProps:{value:e.activity.description},on:{input:function(t){t.target.composing||e.$set(e.activity,"description",t.target.value)}}})])]):[e.activity.description?o("div",{staticClass:"panel-body"},[e._v("\n            "+e._s(e.activity.description)+"\n        ")]):e._e()],e._v(" "),o("footer",{staticClass:"panel-footer flex:h--p:end--s:middle rhy:xStart50"},[e.isEdittable?[o("action-control",{attrs:{glyph:"ban-circle",theme:"danger"},on:{click:e.revertEditState}},[o("span",[e._v(e._s(e.$i18n.ACTIVITY_CANCEL))])]),e._v(" "),o("action-control",{attrs:{glyph:"ok-circle",theme:"success"},on:{click:e.setEditState}},[o("span",[e._v(e._s(e.$i18n.ACTIVITY_SAVE))])])]:[o("action-control",{attrs:{glyph:"edit",theme:"primary"},on:{click:e.setEditState}},[o("span",[e._v(e._s(e.$i18n.ACTIVITY_EDIT))])])]],2)],2)},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0}}())},{}],"8Ur9":[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var a in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s={name:"CourseResource",props:{instance:{type:Object,default:()=>({title:(void 0).$i18n.RESOURCE_TITLE_NEW})}},data(){return{resource:a({},this.instance)}},filters:{niceTitle(e){let t=`(${e.fileExtension})`||"";return t=e.title?`${e.title} ${t}`:t,t=e.parentTitle?`${t} - ${e.parentTitle} `:t,t}}};o.default=s;var n=o.default||t.exports;"function"==typeof n&&(n=n.options),Object.assign(n,function(){return{render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"course-resource panel panel-success iso:yEnd0 edge:xyEq"},[o("header",{staticClass:"course-resource-hdr panel-heading flex:h--p:start--s:middle pad:xyEq25 rhy:xStart25"},[e._t("preheading"),e._v(" "),o("h5",{staticClass:"iso:yEnd0"},[e._v(e._s(e._f("niceTitle")(e.resource)))]),e._v(" "),e._t("postheading")],2),e._v(" "),e.resource.tags?o("div",{staticClass:"panel-body"},e._l(e.resource.tags,function(t){return o("span",{key:t.id,staticClass:"label label-info pull-left iso:xEnd25 iso:yEnd25"},[e._v("\n            "+e._s(t.tag.name)+"\n        ")])}),0):e._e()])},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0}}())},{}],jKm6:[function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.defaultSectionSchema=void 0;var s=e("@utils/uuid"),n=a(e("vuedraggable")),r=a(e("@CourseBuilder/CourseActivity")),i=a(e("@CourseBuilder/CourseResource"));o.defaultSectionSchema={resources:[]};var l={name:"CourseSection",components:{CourseActivity:r.default,CourseResource:i.default,Draggable:n.default},props:{instance:{type:Object,default:()=>({})}},data(){return{currentResources:[...this.instance.resources],dragOptions:{handle:".handle",group:"resources"}}},methods:{addActivity(){this.currentResources.push({title:this.$i18n.ACTIVITY_TITLE_NEW,type:"CourseActivity",uuid:(0,s.generateUUID)()}),this.relayUpdate()},relayUpdate(){this.$emit("update",{resources:this.currentResources})},removeResource(e){this.currentResources=this.currentResources.filter((t,o)=>o!==e),this.relayUpdate()},updateResource(e){let t=e.instance,o=e.$event;const a=this.currentResources.findIndex(e=>e===t);this.currentResources[a]=o.resource,this.relayUpdate()}}};o.default=l;var d=o.default||t.exports;"function"==typeof d&&(d=d.options),Object.assign(d,function(){return{render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("article",{staticClass:"course-section panel panel-primary"},[o("header",{staticClass:"course-section-hdr panel-heading flex:h-p:start--s:middle rhy:xStart50"},[e._t("preheading"),e._v(" "),o("h4",{staticClass:"panel-title"},[e._v("\n            "+e._s(e.$i18n.SECTION_LABEL)+"\n        ")]),e._v(" "),e._t("postheading")],2),e._v(" "),o("draggable",{staticClass:"panel-body pad:xyEq75 rhy:yStart100",attrs:{options:e.dragOptions},on:{add:e.relayUpdate,end:e.relayUpdate},model:{value:e.currentResources,callback:function(t){e.currentResources=t},expression:"currentResources"}},[e._l(e.currentResources,function(t,a){return o(t.type,{key:t.uuid||t.id,tag:"component",attrs:{instance:t},on:{update:function(o){return e.updateResource({instance:t,$event:o})}},scopedSlots:e._u([{key:"preheading",fn:function(){return[o("span",{staticClass:"handle glyph",attrs:{role:"button"}},[o("img",{attrs:{src:"/static/orb/images/glyphicons-move.png"}})])]}},{key:"postheading",fn:function(){return[o("icon-control",{staticClass:"pad:xyEq0 iso:xStartAuto",attrs:{glyph:"remove"},on:{click:function(){return e.removeResource(a)}}},[e._v("\n                    "+e._s(e.$i18n.RESOURCE_REMOVE)+"\n                ")])]}}])})}),e._v(" "),e.currentResources.length?e._e():o("div",{staticClass:"alert alert-warning iso:yEnd0",attrs:{slot:"footer"},slot:"footer"},[o("p",[e._v(e._s(e.$i18n.SECTION_EMPTY))])])],2),e._v(" "),o("footer",{staticClass:"panel-footer flex:h--p:end--s:middle"},[o("action-control",{attrs:{glyph:"plus",theme:"primary"},on:{click:e.addActivity}},[o("span",[e._v(e._s(e.$i18n.ACTIVITY_ADD))])]),e._v(" "),e._t("section:footer:controls")],2)],1)},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0}}())},{"@utils/uuid":"wwsb",vuedraggable:"T6w+","@CourseBuilder/CourseActivity":"qZDC","@CourseBuilder/CourseResource":"8Ur9"}],eFpv:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Course=o.User=void 0;var a=e("@utils/django"),s=function(e){return e&&e.__esModule?e:{default:e}}(e("@CourseBuilder/config/status.yaml")),n=e("@CourseBuilder/CourseSection");class r extends VuexORM.Model{static fields(){return{id:this.increment(),isAuthenticated:this.boolean(!1)}}static async stageFromTemplate(){try{let e=(0,a.parseTemplateData)({id:"userData",required:!0});e?await r.insertOrUpdate({data:e}):(e=await new r,await r.insertOrUpdate({data:e}))}catch(e){}}}o.User=r,Object.defineProperty(r,"entity",{enumerable:!0,writable:!0,value:"users"}),Object.defineProperty(r,"primaryKey",{enumerable:!0,writable:!0,value:"id"});class i extends VuexORM.Model{static fields(){return{editable:this.boolean(!1),exportRoutes:this.attr({}),id:this.attr(),sections:this.attr([n.defaultSectionSchema]),status:this.string(s.default.UPDATE),title:this.string("New Course"),url:this.string()}}static async stageFromTemplate(){if(!i.state.$registered)try{let e=(0,a.parseTemplateData)({id:"courseData"}),t=(0,a.parseTemplateData)({id:"courseListData"});e&&(await i.insertOrUpdate({data:e})),t&&(await i.insertOrUpdate({data:t})),i.state.$registered=!0}catch(e){}}}o.Course=i,Object.defineProperty(i,"entity",{enumerable:!0,writable:!0,value:"courses"}),Object.defineProperty(i,"primaryKey",{enumerable:!0,writable:!0,value:"id"}),Object.defineProperty(i,"state",{enumerable:!0,writable:!0,value:{$registered:!1,$synced:!1}})},{"@utils/django":"f2Um","@CourseBuilder/config/status.yaml":"R35W","@CourseBuilder/CourseSection":"jKm6"}],umRp:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=e("@CourseBuilder/config/models");Vue.use(Vuex);const s=new VuexORM.Database;s.register(a.Course,{}),s.register(a.User,{});var n=new Vuex.Store({plugins:[VuexORM.install(s,{namespace:"orm"})]});o.default=n},{"@CourseBuilder/config/models":"eFpv"}],WSWz:[function(e,t){t.exports={200:{status:"success",message:"The course was saved successfully."},500:{status:"danger",message:"Your course was not saved at this time due to an error."},"200-publish":{status:"success",message:"The course is now published."},"200-draft":{status:"success",message:"The course is now in draft status."}}},{}],hRTX:[function(e,t){"use strict";t.exports=function(e,t){return function(){for(var o=Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];return e.apply(t,o)}}},{}],yQtW:[function(e,t){function o(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function a(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&o(e.slice(0,0))}t.exports=function(e){return null!=e&&(o(e)||a(e)||!!e._isBuffer)}},{}],Feqj:[function(e,t){"use strict";function o(e){return"[object Array]"===d.call(e)}function a(e){return null!==e&&"object"==typeof e}function s(e){return"[object Function]"===d.call(e)}function n(e,t){if(null!==e&&"undefined"!=typeof e)if("object"!=typeof e&&(e=[e]),o(e))for(var a=0,s=e.length;a<s;a++)t.call(null,e[a],a,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}function r(){function e(e,o){t[o]="object"==typeof t[o]&&"object"==typeof e?r(t[o],e):e}for(var t={},o=0,a=arguments.length;o<a;o++)n(arguments[o],e);return t}var i=e("./helpers/bind"),l=e("is-buffer"),d=Object.prototype.toString;t.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===d.call(e)},isBuffer:l,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){var t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return"undefined"==typeof e},isDate:function(e){return"[object Date]"===d.call(e)},isFile:function(e){return"[object File]"===d.call(e)},isBlob:function(e){return"[object Blob]"===d.call(e)},isFunction:s,isStream:function(e){return a(e)&&s(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:n,merge:r,extend:function(e,t,o){return n(t,function(t,a){e[a]=o&&"function"==typeof t?i(t,o):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},{"./helpers/bind":"hRTX","is-buffer":"yQtW"}],njyv:[function(e,t){"use strict";var o=e("../utils");t.exports=function(e,t){o.forEach(e,function(o,a){a!==t&&a.toUpperCase()===t.toUpperCase()&&(e[t]=o,delete e[a])})}},{"../utils":"Feqj"}],Lpyz:[function(e,t){"use strict";t.exports=function(e,t,o,a,s){return e.config=t,o&&(e.code=o),e.request=a,e.response=s,e}},{}],NZT3:[function(e,t){"use strict";var o=e("./enhanceError");t.exports=function(e,t,a,s,n){var r=new Error(e);return o(r,t,a,s,n)}},{"./enhanceError":"Lpyz"}],Ztkp:[function(e,t){"use strict";var o=e("./createError");t.exports=function(e,t,a){var s=a.config.validateStatus;a.status&&s&&!s(a.status)?t(o("Request failed with status code "+a.status,a.config,null,a.request,a)):e(a)}},{"./createError":"NZT3"}],"phS/":[function(e,t){"use strict";function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var a=e("./../utils");t.exports=function(e,t,s){if(!t)return e;var n;if(s)n=s(t);else if(a.isURLSearchParams(t))n=t.toString();else{var r=[];a.forEach(t,function(e,t){null===e||"undefined"==typeof e||(a.isArray(e)?t+="[]":e=[e],a.forEach(e,function(e){a.isDate(e)?e=e.toISOString():a.isObject(e)&&(e=JSON.stringify(e)),r.push(o(t)+"="+o(e))}))}),n=r.join("&")}return n&&(e+=(-1===e.indexOf("?")?"?":"&")+n),e}},{"./../utils":"Feqj"}],Zn5P:[function(e,t){"use strict";var o=e("./../utils"),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(e){var t,s,n,r={};return e?(o.forEach(e.split("\n"),function(e){if(n=e.indexOf(":"),t=o.trim(e.substr(0,n)).toLowerCase(),s=o.trim(e.substr(n+1)),t){if(r[t]&&0<=a.indexOf(t))return;r[t]="set-cookie"===t?(r[t]?r[t]:[]).concat([s]):r[t]?r[t]+", "+s:s}}),r):r}},{"./../utils":"Feqj"}],Rpqp:[function(e,t){"use strict";var o=e("./../utils");t.exports=o.isStandardBrowserEnv()?function(){function e(e){var t=e;return a&&(s.setAttribute("href",t),t=s.href),s.setAttribute("href",t),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:"/"===s.pathname.charAt(0)?s.pathname:"/"+s.pathname}}var t,a=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");return t=e(window.location.href),function(a){var s=o.isString(a)?e(a):a;return s.protocol===t.protocol&&s.host===t.host}}():function(){return function(){return!0}}()},{"./../utils":"Feqj"}],XHRg:[function(e,t){"use strict";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",t.exports=function(e){for(var t,a,s=e+"",n="",r=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.charAt(0|r)||(i="=",r%1);n+=i.charAt(63&t>>8-8*(r%1))){if(a=s.charCodeAt(r+=3/4),255<a)throw new o;t=t<<8|a}return n}},{}],"M+LC":[function(e,t){"use strict";var o=e("./../utils");t.exports=o.isStandardBrowserEnv()?function(){return{write:function(e,t,a,s,n,r){var i=[];i.push(e+"="+encodeURIComponent(t)),o.isNumber(a)&&i.push("expires="+new Date(a).toGMTString()),o.isString(s)&&i.push("path="+s),o.isString(n)&&i.push("domain="+n),!0===r&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},{"./../utils":"Feqj"}],akUF:[function(e,t){"use strict";var o=e("./../utils"),a=e("./../core/settle"),s=e("./../helpers/buildURL"),n=e("./../helpers/parseHeaders"),r=e("./../helpers/isURLSameOrigin"),i=e("../core/createError"),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||e("./../helpers/btoa");t.exports=function(t){return new Promise(function(d,c){var u=t.data,p=t.headers;o.isFormData(u)&&delete p["Content-Type"];var f=new XMLHttpRequest,m="onreadystatechange",g=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||r(t.url)||(f=new window.XDomainRequest,m="onload",g=!0,f.onprogress=function(){},f.ontimeout=function(){}),t.auth){var h=t.auth.username||"",_=t.auth.password||"";p.Authorization="Basic "+l(h+":"+_)}if(f.open(t.method.toUpperCase(),s(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f[m]=function(){if(f&&(4===f.readyState||g)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in f?n(f.getAllResponseHeaders()):null,o=t.responseType&&"text"!==t.responseType?f.response:f.responseText,s={data:o,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:e,config:t,request:f};a(d,c,s),f=null}},f.onerror=function(){c(i("Network Error",t,null,f)),f=null},f.ontimeout=function(){c(i("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},o.isStandardBrowserEnv()){var v=e("./../helpers/cookies"),y=(t.withCredentials||r(t.url))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;y&&(p[t.xsrfHeaderName]=y)}if("setRequestHeader"in f&&o.forEach(p,function(e,t){"undefined"==typeof u&&"content-type"===t.toLowerCase()?delete p[t]:f.setRequestHeader(t,e)}),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(o){if("json"!==t.responseType)throw o}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(e){f&&(f.abort(),c(e),f=null)}),void 0===u&&(u=null),f.send(u)})}},{"./../utils":"Feqj","./../core/settle":"Ztkp","./../helpers/buildURL":"phS/","./../helpers/parseHeaders":"Zn5P","./../helpers/isURLSameOrigin":"Rpqp","../core/createError":"NZT3","./../helpers/btoa":"XHRg","./../helpers/cookies":"M+LC"}],"g5I+":[function(e,t){function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(u===setTimeout)return setTimeout(t,0);if((u===o||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(o){try{return u.call(null,t,0)}catch(o){return u.call(this,t,0)}}}function n(t){if(p===clearTimeout)return clearTimeout(t);if((p===a||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(o){try{return p.call(null,t)}catch(o){return p.call(this,t)}}}function r(){h&&m&&(h=!1,m.length?g=m.concat(g):_=-1,g.length&&l())}function l(){if(!h){var e=s(r);h=!0;for(var t=g.length;t;){for(m=g,g=[];++_<t;)m&&m[_].run();_=-1,t=g.length}m=null,h=!1,n(e)}}function d(e,t){this.fun=e,this.array=t}function c(){}var u,p,f=t.exports={};(function(){try{u="function"==typeof setTimeout?setTimeout:o}catch(t){u=o}try{p="function"==typeof clearTimeout?clearTimeout:a}catch(t){p=a}})();var m,g=[],h=!1,_=-1;f.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];g.push(new d(e,t)),1!==g.length||h||s(l)},d.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(){return[]},f.binding=function(){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],A14q:[function(e,t){function o(e,t){!s.isUndefined(e)&&s.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a=e("process");var s=e("./utils"),n=e("./helpers/normalizeHeaderName"),r={"Content-Type":"application/x-www-form-urlencoded"},i={adapter:function(){var t;return"undefined"==typeof XMLHttpRequest?"undefined"!=typeof a&&(t=e("./adapters/http")):t=e("./adapters/xhr"),t}(),transformRequest:[function(e,t){return n(t,"Content-Type"),s.isFormData(e)||s.isArrayBuffer(e)||s.isBuffer(e)||s.isStream(e)||s.isFile(e)||s.isBlob(e)?e:s.isArrayBufferView(e)?e.buffer:s.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):s.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return 200<=e&&300>e}};i.headers={common:{Accept:"application/json, text/plain, */*"}},s.forEach(["delete","get","head"],function(e){i.headers[e]={}}),s.forEach(["post","put","patch"],function(e){i.headers[e]=s.merge(r)}),t.exports=i},{"./utils":"Feqj","./helpers/normalizeHeaderName":"njyv","./adapters/xhr":"akUF","./adapters/http":"akUF",process:"g5I+"}],xpeW:[function(e,t){"use strict";function o(){this.handlers=[]}var a=e("./../utils");o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){a.forEach(this.handlers,function(t){null!==t&&e(t)})},t.exports=o},{"./../utils":"Feqj"}],IAOH:[function(e,t){"use strict";var o=e("./../utils");t.exports=function(e,t,a){return o.forEach(a,function(o){e=o(e,t)}),e}},{"./../utils":"Feqj"}],mXc0:[function(e,t){"use strict";t.exports=function(e){return!!(e&&e.__CANCEL__)}},{}],R56a:[function(e,t){"use strict";t.exports=function(e){return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},{}],uRyQ:[function(e,t){"use strict";t.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},{}],"6H+A":[function(e,t){"use strict";function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var a=e("./../utils"),s=e("./transformData"),n=e("../cancel/isCancel"),r=e("../defaults"),i=e("./../helpers/isAbsoluteURL"),l=e("./../helpers/combineURLs");t.exports=function(e){o(e),e.baseURL&&!i(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=s(e.data,e.headers,e.transformRequest),e.headers=a.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),a.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]});var t=e.adapter||r.adapter;return t(e).then(function(t){return o(e),t.data=s(t.data,t.headers,e.transformResponse),t},function(t){return n(t)||(o(e),t&&t.response&&(t.response.data=s(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},{"./../utils":"Feqj","./transformData":"IAOH","../cancel/isCancel":"mXc0","../defaults":"A14q","./../helpers/isAbsoluteURL":"R56a","./../helpers/combineURLs":"uRyQ"}],"2trU":[function(e,t){"use strict";function o(e){this.defaults=e,this.interceptors={request:new n,response:new n}}var a=e("./../defaults"),s=e("./../utils"),n=e("./InterceptorManager"),r=e("./dispatchRequest");o.prototype.request=function(e){"string"==typeof e&&(e=s.merge({url:arguments[0]},arguments[1])),e=s.merge(a,{method:"get"},this.defaults,e),e.method=e.method.toLowerCase();var t=[r,void 0],o=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)o=o.then(t.shift(),t.shift());return o},s.forEach(["delete","get","head","options"],function(e){o.prototype[e]=function(t,o){return this.request(s.merge(o||{},{method:e,url:t}))}}),s.forEach(["post","put","patch"],function(e){o.prototype[e]=function(t,o,a){return this.request(s.merge(a||{},{method:e,url:t,data:o}))}}),t.exports=o},{"./../defaults":"A14q","./../utils":"Feqj","./InterceptorManager":"xpeW","./dispatchRequest":"6H+A"}],qFUg:[function(e,t){"use strict";function o(e){this.message=e}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,t.exports=o},{}],VgQU:[function(e,t){"use strict";function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var o=this;e(function(e){o.reason||(o.reason=new a(e),t(o.reason))})}var a=e("./Cancel");o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e,t=new o(function(t){e=t});return{token:t,cancel:e}},t.exports=o},{"./Cancel":"qFUg"}],"4yis":[function(e,t){"use strict";t.exports=function(e){return function(t){return e.apply(null,t)}}},{}],Wzmt:[function(e,t){"use strict";function o(e){var t=new n(e),o=s(n.prototype.request,t);return a.extend(o,n.prototype,t),a.extend(o,t),o}var a=e("./utils"),s=e("./helpers/bind"),n=e("./core/Axios"),r=e("./defaults"),i=o(r);i.Axios=n,i.create=function(e){return o(a.merge(r,e))},i.Cancel=e("./cancel/Cancel"),i.CancelToken=e("./cancel/CancelToken"),i.isCancel=e("./cancel/isCancel"),i.all=function(e){return Promise.all(e)},i.spread=e("./helpers/spread"),t.exports=i,t.exports.default=i},{"./utils":"Feqj","./helpers/bind":"hRTX","./core/Axios":"2trU","./defaults":"A14q","./cancel/Cancel":"qFUg","./cancel/CancelToken":"VgQU","./cancel/isCancel":"mXc0","./helpers/spread":"4yis"}],O4Aa:[function(e,t){t.exports=e("./lib/axios")},{"./lib/axios":"Wzmt"}],jMNs:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.api=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(e("axios"));a.default.defaults.xsrfCookieName="csrftoken",a.default.defaults.xsrfHeaderName="X-CSRFToken";const s=new class{constructor(){this.name="API"}async delete(e){let t=e.route;try{if(!t)return"Route must be sent as an object!";let e=await AXIOS.delete(t),o=e.data;return o}catch(e){return{error:!0,message:"Deletion not currently available. Please try again later."}}}async fetch(e){let t=e.route,o=e.params,s=void 0===o?"":o;if(!t)return"Route must be sent as an object!";try{let e=await a.default.get(t,{params:s}),o=e.data;return o}catch(e){}}async update(e){let t=e.route,o=e.data;if(!t)return"Route must be sent as an object!";try{let e=await a.default.post(t,o),s=e.data;return s}catch(e){}}};o.api=s},{axios:"O4Aa"}],bu66:[function(e,t){t.exports={API:"/api/v1/",RESOURCE_SEARCH:"/api/v1/resource/search/",CREATE:"/courses/new/",UPDATE:"/courses/"}},{}],UZGt:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a={name:"DismissableNotification",props:{active:{type:Boolean,default:!1},message:{type:String,default:"General warning"},status:{type:String,default:"info"}},mounted(){window.setTimeout(this.dismiss,3e3)},methods:{dismiss(){this.$emit("dismissed")}}};o.default=a;var s=o.default||t.exports;"function"==typeof s&&(s=s.options),Object.assign(s,function(){return{render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"fade"}},[e.active?o("div",{staticClass:"alert alert-dismissable module:balance iso:yEnd0",class:"alert-"+e.status,attrs:{role:"alert"}},[o("button",{staticClass:"close",attrs:{"aria-label":"Close",type:"button"},on:{click:e.dismiss}},[o("span",{attrs:{"aria-hidden":"true"}},[e._v("\n                \xD7\n            ")])]),e._v(" "),e.message?o("p",[e._v("\n            "+e._s(e.message)+"\n        ")]):e._e()]):e._e()])},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0}}())},{}],"9jQw":[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=e("@CourseBuilder/config/models"),s={name:"PrimaryBreadcrumbs",inheritAttrs:!1,computed:{count(){return this.routes.length},isSingle(){return 1==this.count},routes(){return[{label:this.$i18n.COURSES_VIEW,href:this.$router.resolve({name:"courseList"}).href,to:{name:"courseList"},useRoute:!!(1<a.Course.query().count())}]}},methods:{isBranch(e){return!this.isLeaf(e)},isLeaf(e){return e===this.count-1}}};o.default=s;var n=o.default||t.exports;"function"==typeof n&&(n=n.options),Object.assign(n,function(){return{render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.count?o("nav",{staticClass:"breadcrumb flex:h--p:start--s:middle rhy:xStart25"},[e._l(e.routes,function(t,a){return[t.useRoute?[o("router-link",{key:a,staticClass:"text-primary",attrs:{to:t.to}},[e._v("\n                "+e._s(t.label)+"\n            ")])]:[o("a",{key:a,staticClass:"text-primary",attrs:{href:t.href}},[e._v("\n                "+e._s(t.label)+"\n            ")])],e._v(" "),e.isBranch(a)?[o("span",[e._v("/")])]:e._e()]})],2):e._e()},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0}}())},{"@CourseBuilder/config/models":"eFpv"}],"1sG1":[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a={name:"SearchField",props:{value:{type:String,default:""}},methods:{handleInput(e){let t=e.target.value;this.$emit("input",t)}}};o.default=a;var s=o.default||t.exports;"function"==typeof s&&(s=s.options),Object.assign(s,function(){return{render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("form",{staticClass:"form-group",on:{submit:function(t){return t.preventDefault(),e.$emit("submit")}}},[o("label",{attrs:{for:"search"}},[e._t("default")],2),e._v(" "),o("div",{staticClass:"input-group"},[o("input",{staticClass:"form-control",attrs:{id:"search"},domProps:{value:e.value},on:{input:e.handleInput}}),e._v(" "),o("span",{staticClass:"input-group-btn"},[o("button",{staticClass:"btn btn-info",attrs:{type:"submit"}},[e._v("\n                "+e._s(e.$i18n.SEARCH_LABEL)+"\n            ")])])])])},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0}}())},{}],OICJ:[function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var o={};for(var a in e)0<=t.indexOf(a)||Object.prototype.hasOwnProperty.call(e,a)&&(o[a]=e[a]);return o}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=e("@services/api"),r=a(e("@CourseBuilder/config/apiRoutes")),i=a(e("vuedraggable")),l=a(e("@fields/SearchField")),d=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var a in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c={name:"ResourceList",components:{Draggable:i.default,SearchField:l.default},data(){return{dragOptions:{handle:".handle",group:{name:"resources",pull:"clone",put:!1}},q:"",resources:[]}},computed:{processedResources(){return this.resources.reduce((e,t)=>{let o=t.title,a=t.files;return a=a.map(e=>{let t=e.file_extension,a=s(e,["file_extension"]);return d({},a,{fileExtension:t,parentTitle:o,type:"CourseResource"})}),a=[].concat(...a).filter(e=>e.is_embeddable),e.concat(a)},[])}},filters:{niceTitle(e){let t=`(${e.fileExtension})`||"";return t=e.title?`${e.title} ${t}`:t,t=e.parentTitle?`${t} - ${e.parentTitle} `:t,t}},methods:{async searchResources(){try{let e=await n.api.fetch({route:r.default.RESOURCE_SEARCH,params:{format:"json",q:this.q}}),t=e.objects;this.resources=t}catch(e){console.log(e)}}}};o.default=c;var u=o.default||t.exports;"function"==typeof u&&(u=u.options),Object.assign(u,function(){return{render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("search-field",{on:{submit:e.searchResources},model:{value:e.q,callback:function(t){e.q=t},expression:"q"}},[e._v("\n        "+e._s(e.$i18n.RESOURCE_LABEL_SEARCH)+"\n    ")]),e._v(" "),o("draggable",{staticClass:"resource-list",attrs:{list:e.processedResources,options:e.dragOptions}},e._l(e.processedResources,function(t){return o("div",{key:t.id,staticClass:"list-group-item flex:h--p:start--s:base rhy:xStart25 pad:xyEq25 rxn:info"},[o("span",{staticClass:"handle glyph pad:x25 pad:y0 ",attrs:{role:"button"}},[o("img",{attrs:{src:"/static/orb/images/glyphicons-move.png"}})]),e._v(" "),o("div",[e._v(e._s(e._f("niceTitle")(t)))])])}),0)],1)},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0}}())},{"@services/api":"jMNs","@CourseBuilder/config/apiRoutes":"bu66",vuedraggable:"T6w+","@fields/SearchField":"1sG1"}],NQzz:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=e("@utils/uuid"),s=function(e){return e&&e.__esModule?e:{default:e}}(e("vuedraggable")),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};a.get||a.set?Object.defineProperty(t,o,a):t[o]=e[o]}return t.default=e,t}(e("@CourseBuilder/CourseSection")),r=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var a in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i={name:"SectionRiver",components:{Draggable:s.default,CourseSection:n.default},props:{sections:{type:Array,default:()=>[]}},data(){return{currentSections:[],dragOptions:{handle:".handle"}}},watch:{sections:{immediate:!0,handler(){this.currentSections=this.sections.map(e=>(e.uuid||(e.uuid=(0,a.generateUUID)()),e))}}},methods:{addSection(){this.currentSections.push(r({uuid:(0,a.generateUUID)()},n.defaultSectionSchema)),this.relayUpdate()},relayUpdate(){this.$emit("update",{sections:this.currentSections})},removeSection(e){this.currentSections=this.currentSections.filter((t,o)=>o!==e),this.relayUpdate()},updateSection(e){let t=e.instance,o=e.$event;const a=this.currentSections.findIndex(e=>e===t);this.currentSections[a].resources=o.resources,this.relayUpdate()}}};o.default=i;var l=o.default||t.exports;"function"==typeof l&&(l=l.options),Object.assign(l,function(){return{render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("draggable",{attrs:{options:e.dragOptions},on:{end:e.relayUpdate},model:{value:e.currentSections,callback:function(t){e.currentSections=t},expression:"currentSections"}},[e._l(e.currentSections,function(t,a){return o("course-section",{key:t.uuid,attrs:{instance:t},on:{update:function(o){return e.updateSection({instance:t,$event:o})}},scopedSlots:e._u([{key:"preheading",fn:function(){return[o("span",{staticClass:"handle glyph",attrs:{role:"button"}},[o("img",{attrs:{src:"/static/orb/images/glyphicons-move.png"}})])]}},{key:"postheading",fn:function(){return[o("icon-control",{staticClass:"pad:xyEq0 iso:xStartAuto",attrs:{glyph:"remove"},on:{click:function(){return e.removeSection(a)}}},[e._v("\n                "+e._s(e.$i18n.SECTION_REMOVE)+"\n            ")])]}}])})}),e._v(" "),o("template",{slot:"footer"},[o("div",{staticClass:"course-sections-add panel panel-default"},[o("button",{staticClass:"fake-btn flex:h--p:start--s:base rhy:xStart25",attrs:{type:"button"},on:{click:e.addSection}},[o("span",{staticClass:"glyphicon glyphicon-plus",attrs:{"aria-hidden":"true"}}),e._v(" "),o("span",[e._v(e._s(e.$i18n.SECTION_ADD))])])])])],2)},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0}}())},{"@utils/uuid":"wwsb",vuedraggable:"T6w+","@CourseBuilder/CourseSection":"jKm6"}],"4Sc+":[function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var s=a(e("@CourseBuilder/config/status")),n=a(e("@CourseBuilder/config/alerts")),r=e("@services/api"),i=a(e("@CourseBuilder/config/apiRoutes")),l=e("@CourseBuilder/config/models"),d=a(e("vuedraggable")),c=e("@CourseBuilder/CourseSection"),u=a(e("@notifications/DismissableNotification")),p=a(e("@navigation/PrimaryBreadcrumbs")),f=a(e("@CourseBuilder/ResourceList")),m=a(e("@CourseBuilder/SectionRiver")),g=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var a in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},h={name:"CourseEditor",components:{DismissableNotification:u.default,Draggable:d.default,PrimaryBreadcrumbs:p.default,ResourceList:f.default,SectionRiver:m.default},props:{editable:{type:Boolean,default:!1},exportRoutes:{type:Object,default:()=>({})},id:{type:[Boolean,String,Number],default:!1},sections:{type:Array,default:()=>[c.defaultSectionSchema]},status:{type:String,default:s.default.INACTIVE},title:{type:[Boolean,String],default:!1}},data(){return{course:new l.Course({editable:this.editable,exportRoutes:this.exportRoutes||{},id:this.id.length?this.id:"",title:this.title||this.$i18n.COURSE_TITLE_NEW,status:this.status||s.default.INACTIVE,sections:this.sections||[c.defaultSectionSchema]}),isTitleEditable:!1,notification:{active:!1,status:"info",message:""},saveAction:this.$route.meta.action}},computed:{initialCourseView(){return this.saveAction===s.default.CREATE},saveControlMeta(){return{disabled:1>this.course.sections.length,glyph:"ok-circle",label:this.saveAction===s.default.UPDATE?this.$i18n.COURSE_SAVE:this.$i18n.COURSE_CREATE,theme:"success"}},statusControlMeta(){return this.course.status===s.default.INACTIVE?{glyph:"cloud-download",label:this.$i18n.COURSE_SET_PUBLISH,theme:"default"}:{glyph:"cloud-upload",label:this.$i18n.COURSE_SET_DRAFT,theme:"primary"}},user(){return l.User.query().first()}},watch:{$route:{immediate:!0,handler(){this.$route.meta.action==s.default.CREATE||(this.course=l.Course.find(this.id))}}},methods:{async getExportRoutes(){let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{id:this.course.id},t=e.id;try{const e=new DOMParser;let t=await r.api.fetch({route:`${i.default.UPDATE}${this.course.id}`});const o=JSON.parse(e.parseFromString(t,"text/html").querySelector("#courseData").innerHTML),a=o.exportRoutes;this.course.exportRoutes=a,await this.course.$save()}catch(e){}},async redirectOnCreate(){let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{id:this.course.id},t=e.id;const o=this.initialCourseView&&t;try{if(o){await this.getExportRoutes({id:t});let e=g({},this.course);delete e.$id,this.$router.replace({name:"editCourse",params:e})}}catch(e){}},resetNotification(){this.notification.active=!1},async saveCourse(e){let t=e.status,o=void 0===t?"200":t,a=this.course;try{let e=this.saveAction===s.default.CREATE?i.default.CREATE:`${i.default.UPDATE}${this.course.id}/`;const t=await r.api.update({route:e,data:a}),n=t.course_id,l=t.course_status,d=t.message,c=t.url;this.course.id=n,this.course.status=l,await this.course.$save(),this.setNotification({status:o,message:d}),await this.redirectOnCreate()}catch(e){this.setNotification({status:"500",message:e.message})}},setNotification(e){let t=e.status,o=e.message,a=void 0===o?null:o;const s=n.default[t]||{};this.notification={active:!0,status:s.status||"info",message:s.message||a}},setTitleEditState(e){let t=e.state,o=void 0===t?!this.isTitleEditable:t;this.isTitleEditable=o},updateSections(e){let t=e.sections;this.course.sections=t},async updateStatus(){const e=this.course.status,t={[s.default.ACTIVE]:{courseStatus:s.default.INACTIVE,msgStatus:"200-draft"},[s.default.INACTIVE]:{courseStatus:s.default.ACTIVE,msgStatus:"200-publish"}};try{this.course.status=t[e].courseStatus,await this.saveCourse({status:t[e].msgStatus})}catch(e){}}}};o.default=h;var _=o.default||t.exports;"function"==typeof _&&(_=_.options),Object.assign(_,function(){return{render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("article",{staticClass:"course-editor flex:h--p:start grid:h--cols:iAuto--gaps:xyEq100"},[o("div",[o("header",{staticClass:"course-editor-hdr flex:h--p:start--s:middle pad:yEq100"},[e.isTitleEditable?o("div",{staticClass:"flex:hAuto--p:start--s:start"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.course.title,expression:"course.title"}],staticClass:"form-control module:static",domProps:{value:e.course.title},on:{input:function(t){t.target.composing||e.$set(e.course,"title",t.target.value)}}}),e._v(" "),o("div",{staticClass:"input-group-btn module:static"},[o("action-control",{staticClass:"course-editor-hed-save",on:{click:e.setTitleEditState}},[e._v("\n                        "+e._s(e.$i18n.COURSE_TITLE_SAVE)+"\n                    ")])],1)]):o("h2",{staticClass:"course-editor-hed flex:hAuto--p:start--s:middle rhy:xStart50 iso:yEq0",on:{click:e.setTitleEditState}},[o("span",[e._v(e._s(e.course.title))]),e._v(" "),o("action-control",{staticClass:"course-editor-hed-edit btn-xs pad:xyEq25",attrs:{glyph:"edit",theme:"primary"}},[o("span",{staticClass:"sr-only"},[e._v(e._s(e.$i18n.COURSE_TITLE_EDIT))])])],1)]),e._v(" "),e.initialCourseView&&e.$i18n.EDITOR_CONTENT?o("div",{staticClass:"lead panel",domProps:{innerHTML:e._s(e.$i18n.EDITOR_CONTENT)}}):e._e(),e._v(" "),o("section",{staticClass:"editor-river"},[o("dismissable-notification",e._b({staticClass:"iso:yEnd100",on:{dismissed:e.resetNotification}},"dismissable-notification",e.notification,!1)),e._v(" "),o("section-river",{attrs:{sections:e.course.sections},on:{update:e.updateSections}})],1)]),e._v(" "),o("aside",{staticClass:"editor-sidebar pad:yEq100"},[o("div",{staticClass:"module:sticky"},[o("primary-breadcrumbs",{staticClass:"iso:yEnd100"}),e._v(" "),o("div",{staticClass:"btn-group flex:h--p:start--s:middle pad:yEq100 iso:yEnd100 edge:yEq--def:tint"},[o("action-control",e._b({staticClass:"btn-sm module:balance",on:{click:e.saveCourse}},"action-control",e.saveControlMeta,!1),[o("span",[e._v(e._s(e.saveControlMeta.label))])]),e._v(" "),e.course.id?o("action-control",e._b({staticClass:"btn-sm module:balance",on:{click:e.updateStatus}},"action-control",e.statusControlMeta,!1),[o("span",[e._v(e._s(e.statusControlMeta.label))])]):e._e()],1),e._v(" "),e.course.id?o("div",{staticClass:"pad:yEnd100 iso:yEnd100 rhy:yStart50 edge:yEnd--def:tint"},[o("div",{staticClass:"btn-group flex:h--p:start--s:middle"},[e.course.exportRoutes.moodleExport?o("action-link",{staticClass:"btn-sm module:balance",attrs:{href:e.course.exportRoutes.moodleExport}},[e._v("\n                        "+e._s(e.$i18n.EXPORT_MOODLE)+"\n                    ")]):e._e(),e._v(" "),e.course.exportRoutes.oppiaExport?o("action-link",{staticClass:"btn-sm module:balance",attrs:{href:e.course.exportRoutes.oppiaExport}},[e._v("\n                        "+e._s(e.$i18n.EXPORT_OPPIA)+"\n                    ")]):e._e()],1),e._v(" "),e.course.exportRoutes.oppiaPublish?o("action-link",{staticClass:"btn-sm module:balance",attrs:{theme:"primary",href:e.course.exportRoutes.oppiaPublish}},[e._v("\n                    "+e._s(e.$i18n.EXPORT_OPPIA_PUBLISH)+"\n                ")]):e._e()],1):e._e(),e._v(" "),o("resource-list",{staticClass:"list-group"})],1)])])},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0}}())},{"@CourseBuilder/config/status":"R35W","@CourseBuilder/config/alerts":"WSWz","@services/api":"jMNs","@CourseBuilder/config/apiRoutes":"bu66","@CourseBuilder/config/models":"eFpv",vuedraggable:"T6w+","@CourseBuilder/CourseSection":"jKm6","@notifications/DismissableNotification":"UZGt","@navigation/PrimaryBreadcrumbs":"9jQw","@CourseBuilder/ResourceList":"OICJ","@CourseBuilder/SectionRiver":"NQzz"}],"2xzd":[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(e("@CourseBuilder/config/status")),s=e("@CourseBuilder/config/models"),n=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var a in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r={name:"CourseList",computed:{courses(){return s.Course.query().orderBy("title").all()},user(){return s.User.query().first()||{}},processedCourses(){return this.courses.map(e=>{let t=n({},e,{labelTheme:this.isDraft(e)?"warning":"success"});return delete t.$id,t})},newCourseRouteParams(){return{name:"createCourse",params:{editable:!0,action:a.default.CREATE}}}},methods:{isDraft(e){let t=e.status;return t===a.default.INACTIVE}}};o.default=r;var i=o.default||t.exports;"function"==typeof i&&(i=i.options),Object.assign(i,function(){return{render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("header",{staticClass:"flex:h--p:start--s:middle pad:yEq100"},[o("h2",{staticClass:"flex:hAuto--p:start--s:middle rhy:xStart50 iso:yEq0"},[e._v("\n            "+e._s(e.$i18n.COURSES_LABEL)+"\n        ")]),e._v(" "),e.user.isAuthenticated?[o("router-control",{staticClass:"iso:xStartAuto",attrs:{glyph:"edit",link:e.newCourseRouteParams}},[o("span",[e._v(e._s(e.$i18n.COURSE_ADD))])])]:e._e()],2),e._v(" "),e.$i18n.COURSES_CONTENT?o("div",{staticClass:"lead panel",domProps:{innerHTML:e._s(e.$i18n.COURSES_CONTENT)}}):e._e(),e._v(" "),e.processedCourses.length?e._l(e.processedCourses,function(t,a){return o("div",{key:t.id,staticClass:"module:static flex:h--p:start--s:middle pad:yEq100 rhy:xStart50",class:{"edge:yStart--def:tint":0<a}},[o("h4",[o("router-link",{staticClass:"flex:hAuto--p:start--s:base",attrs:{to:{name:"editCourse",params:Object.assign({},t)}}},[e._v("\n                    "+e._s(t.title)+"\n                ")])],1),e._v(" "),o("div",{staticClass:"label pad:xyEq25 iso:xStartAuto iso:xEnd50",class:"label-"+t.labelTheme},[e._v("\n                "+e._s(t.status)+"\n            ")]),e._v(" "),e.user.isAuthenticated?o("div",{staticClass:"btn-group"},[t.exportRoutes.moodleExport?o("action-link",{staticClass:"btn-sm",attrs:{href:t.exportRoutes.moodleExport}},[e._v("\n                    "+e._s(e.$i18n.EXPORT_MOODLE)+"\n                ")]):e._e(),e._v(" "),t.exportRoutes.oppiaExport?o("action-link",{staticClass:"btn-sm",attrs:{href:t.exportRoutes.oppiaExport}},[e._v("\n                    "+e._s(e.$i18n.EXPORT_OPPIA)+"\n                ")]):e._e(),e._v(" "),t.exportRoutes.oppiaPublish?o("action-link",{staticClass:"btn-sm",attrs:{theme:"primary",href:t.exportRoutes.oppiaPublish}},[e._v("\n                    "+e._s(e.$i18n.EXPORT_OPPIA_PUBLISH)+"\n                ")]):e._e()],1):e._e()])}):e._e(),e._v(" "),!e.processedCourses.length&&e.user.isAuthenticated?[o("div",{staticClass:"alert alert-warning flex:h--p:start--s:middle rhy:xStart50"},[o("p",[e._v(e._s(e.$i18n.COURSES_EMPTY))]),e._v(" "),o("router-control",{staticClass:"iso:xStartAuto",attrs:{glyph:"edit",theme:"warning",link:{name:"createCourse"}}},[o("span",[e._v(e._s(e.$i18n.COURSE_ADD))])])],1)]:e._e(),e._v(" "),e.user.isAuthenticated?e._e():o("div",{staticClass:"alert alert-warning flex:h--p:start--s:middle rhy:xStart50"},[o("p",{domProps:{innerHTML:e._s(e.$i18n.LOGIN_WARNING)}})])],2)},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0}}())},{"@CourseBuilder/config/status":"R35W","@CourseBuilder/config/models":"eFpv"}],"qgE/":[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a={name:"ActionControl",props:{glyph:{type:[Boolean,String],default:!1},theme:{type:String,default:"default"}}};o.default=a;var s=o.default||t.exports;"function"==typeof s&&(s=s.options),Object.assign(s,function(){return{render:function(e,t){var o=t._c;return o("button",t._g(t._b({staticClass:"btn module:static flex:hAuto--p:middle--s:base rhy:xStart25",class:[t.data.staticClass,"btn-"+t.props.theme]},"button",t.data.attrs,!1),t.listeners),[t.props.glyph?o("span",{staticClass:"glyphicon",class:"glyphicon-"+t.props.glyph,attrs:{"aria-hidden":"true"}}):t._e(),t._v(" "),t._t("default")],2)},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:!0}}())},{}],mivd:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a={name:"ActionLink",props:{glyph:{type:[Boolean,String],default:!1},theme:{type:String,default:"default"}}};o.default=a;var s=o.default||t.exports;"function"==typeof s&&(s=s.options),Object.assign(s,function(){return{render:function(e,t){var o=t._c;return o("a",t._b({staticClass:"btn module:static flex:hAuto--p:middle--s:base rhy:xStart25",class:[t.data.staticClass,"btn-"+t.props.theme]},"a",t.data.attrs,!1),[t.props.glyph?o("span",{staticClass:"glyphicon",class:"glyphicon-"+t.props.glyph,attrs:{"aria-hidden":"true"}}):t._e(),t._v(" "),t._t("default")],2)},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:!0}}())},{}],mkEl:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a={name:"IconControl",props:{glyph:{type:[Boolean,String],default:!1}}};o.default=a;var s=o.default||t.exports;"function"==typeof s&&(s=s.options),Object.assign(s,function(){return{render:function(e,t){var o=t._c;return o("button",t._g(t._b({staticClass:"glyph module:static flex:hAuto--p:middle--s:base rhy:xStart25",class:t.data.staticClass},"button",t.data.attrs,!1),t.listeners),[t.props.glyph?o("span",{staticClass:"glyphicon",class:"glyphicon-"+t.props.glyph,attrs:{"aria-hidden":"true"}}):t._e(),t._v(" "),o("span",{staticClass:"sr-only"},[t._t("default")],2)])},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:!0}}())},{}],TzED:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a={name:"RouterControl",props:{glyph:{type:[Boolean,String],default:!1},link:{type:Object,required:!0},theme:{type:String,default:"default"}}};o.default=a;var s=o.default||t.exports;"function"==typeof s&&(s=s.options),Object.assign(s,function(){return{render:function(e,t){var o=t._c;return o("router-link",t._b({staticClass:"btn module:static flex:hAuto--p:middle--s:base rhy:xStart25",class:[t.data.staticClass,"btn-"+t.props.theme],attrs:{to:t.props.link}},"router-link",t.data.attrs,!1),[t.props.glyph?o("span",{staticClass:"glyphicon",class:"glyphicon-"+t.props.glyph,attrs:{"aria-hidden":"true"}}):t._e(),t._v(" "),t._t("default")],2)},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:!0}}())},{}],GIgH:[function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var s=e("@utils/django"),n=a(e("@CourseBuilder/config/status")),r=a(e("@CourseBuilder/CourseEditor")),i=a(e("@CourseBuilder/CourseList")),l=a(e("@controls/ActionControl")),d=a(e("@controls/ActionLink")),c=a(e("@controls/IconControl")),u=a(e("@controls/RouterControl"));Vue.component("ActionControl",l.default),Vue.component("ActionLink",d.default),Vue.component("IconControl",c.default),Vue.component("RouterControl",u.default),Vue.use(VueRouter);const p=(0,s.parseTemplateData)({id:"routeData"}),f=[{name:"courseList",path:p.courseList,component:i.default},{name:"createCourse",path:p.createCourse,component:r.default,props:!0,meta:{action:n.default.CREATE}},{name:"editCourse",path:p.editCourse,component:r.default,props:!0,meta:{action:n.default.UPDATE}}];var m=new VueRouter({mode:"history",routes:f});o.default=m},{"@utils/django":"f2Um","@CourseBuilder/config/status":"R35W","@CourseBuilder/CourseEditor":"4Sc+","@CourseBuilder/CourseList":"2xzd","@controls/ActionControl":"qgE/","@controls/ActionLink":"mivd","@controls/IconControl":"mkEl","@controls/RouterControl":"TzED"}],"9Kob":[function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}e("@apps/course_builder.css");var o=t(e("@services/i18n")),a=t(e("@CourseBuilder/config/store")),s=t(e("@CourseBuilder/config/routes")),n=e("@CourseBuilder/config/models");Vue.config.performance=!1,Vue.use(o.default,{translations:window.i18n||{}}),new Vue({name:"Orb",router:s.default,template:"<router-view></router-view>",async created(){try{await n.Course.stageFromTemplate(),await n.User.stageFromTemplate()}catch(e){console.log(e)}}}).$mount("#app")},{"@apps/course_builder.css":"XQDW","@services/i18n":"HjX3","@CourseBuilder/config/store":"umRp","@CourseBuilder/config/routes":"GIgH","@CourseBuilder/config/models":"eFpv"}]},{},["9Kob"],null);